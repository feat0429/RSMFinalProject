# RSM Final Project

This application was made as part of a training program of RSM US in El Salvador. 
It provides access to get sales reports from the AdventureWoks2020 database and download them as PDFs or CSVs.

## Prerequisites

- .NET 8.0
- Development Environment: Visual Studio 2022 (or compatible IDE)
- The [AdventureWorks2022](https://learn.microsoft.com/en-us/sql/samples/adventureworks-install-configure?view=sql-server-ver16&tabs=ssms "ADventureWorks20222 sample database") sample database.
- [Node.js 20.12.2](https://nodejs.org/en "Download Node.js") and npm or yarn to install fronten dependencies.

## Running the application:

1. Clone or download the project repository.
2. Open the solution file **RSMFinalProject.sln** in Visual Studio.
3. In the **RSMFinalProject.API** project, open the **appsettings.json** file and change the local connection string
   with the connection to your database.
4. In a terminal go to the **RSMFinalProject.API** project folder.
   <br/>
   `cd ../backend\RSMFinalProject.API>`
5. Start the application. You can access the API endpoint in the localhost URL provided in the terminal. (To access the Swagger documentation go to https://localhost:PORT/swagger/index.html).
   <br/>
`dotnet run`
6. Open the frontend folder and create a file named *.env*. In the file enter the save the environment variable that saves the backend URL origin.
This is required to connect with the backend, otherwise the application won't work properly. The name of the variable MUST be like the one in the example and the value is the origin of the URL generated by the backend application.  <br/>
`VITE_API_URL = "https://localhost:PORT"`
8. In a terminal go to the **frontend** folder.<br/>
`cd ../frontend`
9. Install project depdencies.<br/>
`npm install`
10. Run the application. The frontend application will start and will be available in the URL displayed on the terminal.<br/>
`npm run dev`

### Notes
The CORS settings allow only **localhost** domains. If you want to use the API with another domain you should add it to the CORSS settings in 
the **Progam.cs** file.

## NuGet packages
Besides the default packages installed when a project is initialized and Entity Framework Core, I used:
- AutoMapper 13.0.1: Decided to use AutoMapper because it is a great way to map my database models to DTOs and share data between different layers or with the API users.
The package provides a very straightforward way to map complex classes as in this scenario where AdventureWorks2022 database has very complex models, avoiding boilerplate
code and the mapping logic can be separated from the services. 
- FluentValidation 11.9.1: Decided to use this package because it provides a very straightforward and fluent way to add validation to my services without having to use
boilerplate code to validate each field of my DTOs. It also helps me to provide feedback to the application user since I get the validation errors of each property and
send this errors back to the user and make them know about what is wrong with the request. Besides the package already has really good OOTB validations, ideal for simple applications.

## NPM packages
Besides React, Typescript and Eslint for better development experience, I used the following npm packages:
- MaterialReactTableV2 2.13.0: I decided to use this package because I want to use built-in components, so that I could focus more on the backend and this package offers
really feature to manage data and display it in a table format. It provides really good features for pagination and to manage the state of the data that fills the columns.
It provides OOTB features to manage error and loading messages. And I discovered that it has a really good documentation with examples.
<br/>
This package uses MaterialUI, which I intended to use in the beginning, so I had to install the following packages as well:

  - mui/material
  - @mui/x-date-pickers
  - @mui/icons-material
  - @emotion/react
  - @emotion/styled
  - dayjs
- TanStack Query: This package provides really good features to manage asynchronous states like fetching data from an API. I have used it before, and provides
a very straightforward  way to manage data that is fetched and it integrates very well with MaterialReactTableV2. I decided to use it to get a fast way to handle
the state of my fetched data, so that I could focus more in the backend. 
- Axios: I decided to use this package because it provides a straightforward way to fetch data with many query parameters.
- export-to-csv: I used this package to generate csv files with the received data since it was a requirement of the project.
- jspdf: This package was used to generate pdf files.
- jspdf-autotable: This package is used along with jspdf to format the data into tables before generating the pdf.
